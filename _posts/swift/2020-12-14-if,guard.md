---
layout: post
title: if와 guard, 어떻게 구분해서 쓸까
category: swift
tags: [if, guard]
comments: true
---


>이 글은 공부 중에 작성하는 글입니다.    
정정이 필요한 내용은 댓글로 알려주시면 감사하겠습니다 :)

<br>

안녕하세요 오동나무입니다.  <br>



Swift에서는 흐름을 제어하기 위한 조건문으로 if, guard, switch 등의 구문을 제공합니다.    
이 중에서도 특히 **if와 guard**의 기능과 쓰임이 유사해서 당황스럽습니다 :(    
코드로 보아도..  <br>

 ```swift
 var number: Int = 10

 func check1() {
     if number == 10 {
         print("Good!")
     } else {
         print("error!")
     }
 }

 func check2() {
     guard number == 10 else {
         print("error!")
         return
     }

     print("Good!")
 }
 ```     


if-else를 사용한 **check1** 메서드와 guard를 사용한 **check2** 메서드는      
아무리 봐도 같은 기능을 합니다.     <br>

***그렇다면 if와 guard는 어떻게 구분해서 쓸 수 있을까요?***
그 쓰임의 기준을 정하기위해 우선 guard에 대해서 알아봅시다.


<br>

# guard

guard 문은 Swift 2.0에서 추가된 기능입니다.    
if이 유용하게 잘 사용되고 있는데 왜 새로운 guard문이 추가된 것일까요? <br>

guard구문은 메서드를 **빠르게 종료** (Early Exit) 시키기위해 생겨난 개념입니다.   
그리고 guard는 **예외를 처리해주기 위한 구문**으로 사용이 됩니다.
<br>
>guard in 공식문서
>- 빠른 종료르 위한 구문
>- 조건문이 반드시 true가 되어야하는 경우 사용 (예외 처리를 위한 기능)
>- if와 달리 else 구문이 필수적
>- 가독성이 좋음

<br>

#### ✐ 빠른종료
앞서 말했듯이 guard는 예외를 처리하는 구문으로 사용됩니다.   
그런데 if도 else를 사용하여 예외를 처리해줄 수 있는데 굳이 guard를 써야할까요? <br>

물론 guard와 if는 같은 기능을 합니다.     
하지만 guard는 메서드를 **빠른 종료**시킨다 점에서 차이가 있습니다.
그렇다면 '빠른 종료'가 무슨 말일까요..?      
위의 코드를 더 간단하게 가져와보겠습니다.   

```swift

    if <조건> {
        // 기능 구현
    } else {
        // 예외 처리
    }



    guard <조건> else {
        // 예외 처리
        return
    }

    // 기능 구현

```     

역시 아무리봐도 같은 기능을 하는 것 같군요.    
하지만 코드의 구조를 살펴보면,    <br>

if 구문은 조건이 참일때 실행할 코드블록과    
예외의 경우 실행할 코드블록을 함께 가지고 있는 반면,   
guard 구문은 예외 처리 코드블록만을 가지고 있고,    
조건이 참일때 실행될 코드블록은 밖에서 처리합니다.
<br>

즉, if는 조건에 따라 코드를 실행시켜주는 구문이고,   
guard는 조건이 true/false인지만 판별하는 구문입니다. (false인 경우 메서드를 종료시킵니다.)   
구문 자체의 **목적**이 다른 것이지요.    <br>

guard는 조건문을 판별만 하는 구문이기 때문에 **예외 처리에 '빠르게' 접근**할 수 있는 것입니다.

<br>

#### ✐ 가독성
그리고 이러한 코드블록의 구조는 가독성에도 영향을 미칩니다.    
if문을 사용할 경우, 조건문을 만족하면 코드블록 내부를 들어갔다 나와야 하는 반면    
guard는 참일때 실행할 코드블록을 guard 구문이 끝난 후로 미루어버립니다.    <br>

즉, 예외 처리를 위한 의도를 좀 더 명료하게 파악할 수 있게 됩니다. <br>

또한 guard 구문은 if와 달리 else 구문이 필수적으로 요구됩니다.    
이는 어떠한 경우에도 예외에 대해서 처리를 해주겠다는(메서드를 종료시키겠다는) 투철한 사명감을 내비치기도 하네요. guard라는 이름에 걸맞는 성격이네요.

<br>

#### 그래도 결국 같은 기능인데.. 굳이 구분해야할까?
&nbsp;제 생각입니다. if를 사용하던, guard를 사용하던 기능상으로는 같기때문에 로직에는 문제가 없을 것입니다. 하지만 그럼에도 불구하고 guard 구문을 굳이 써주는 이유는 **가독성** 때문이 아닐까 생각합니다. 단순하게 참인 경우, 거짓인 경우를 분리하는 것과 '예외'라는 것을 처리하는 것은 뉘앙스가 다른 것 같습니다. 예외라는 말은 '일반적인'이라는 말과 반대되는 말로 생각이 드는데요, 그렇기 때문에 guard를 써주면 '예외적인 상황에 대한 코드구나' 하는 것을 보다 쉽고 명료하게 알 수 있는 것 같습니다.

<br>
<br>
```
P.S. guard에 대한 피드백을 주신 리뷰어 도미닉과 이해를 도와준 지니, 감사합니다 :)
```
<br>
