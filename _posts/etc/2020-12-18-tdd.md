---
layout: post
title: 테스트 주도 개발, TDD
category: etc
tags: [tdd]
comments: true
---

>이 글은 공부 중에 작성하는 글입니다.    
>정정이 필요한 내용은 댓글로 알려주시면 감사하겠습니다 :)

<br>

안녕하세요 오동나무입니다. <br>

오늘은 TDD에 대해서 살펴보도록 하겠습니다.
<br>
<br>

# TDD (테스트 주도 개발)

>테스트 주도 개발(Test-Driven Development TDD)은 매우 짧은 개발 사이클을 반복하는 소프트웨어 개발 프로세스 중 하나이다.  개발자는 먼저 요구사항을 검증하는 자동화된 테스트 케이스를 작성한다. 그런 후에, 그 테스트 케이스를 통과하기 위한 최소한의 코드를 생성한다. 마지막으로 작성한 코드를 표준에 맞도록 리팩토링한다. *-위키백과*

<br>

테스트 주도 개발은 말 그대로 개발을 하는데에 있어서 테스트가 주가 된다는 하나의 개발 방법론입니다. 먼저 테스트를 하면서 코드를 작성하고, 그 후에 본 코드를 구현하는 방식입니다. 테스트를 거친 후에 코드를 작성한다면 추후에 신경써줘야할 많은 부분들에 대해서 해결을 하면서 코드를 작성할 수 있겠지요? <br>

<img src = "/assets/post-img/etc/tdd1.jpg" width = "90%">          

하지만 TDD를 언제나 고집하기에는 번거롭고 생산성이 떨어지는 측면도 있습니다. 또한 이미 프로그램이 만들어져있는 상황에서 TDD를 진행하는 것은 단연 무리가 있겠지요. 이러한 이유들로 실무에서 제대로된 TDD를 거쳐 개발을 진행하는 것이 쉽지는 않다고 하네요. 그래도 하나의 개발 방법론으로서 알아두고, 적용해볼 수 있다면 좋겠죠?

<br>

# TDD Cycle   <br>

<img src = "/assets/post-img/etc/tdd2.jpg" width = "90%">        

TDD는 실패 - 성공 - 리팩토링의 짧은 주기를 반복하며 좋은 코드를 도출해내는 방식입니다. 진리를 찾기위한 헤겔의 변증법, 정반합과 닮은 모양이네요.
<br>

1. Red: **실패**하는 테스트를 작성
2. Green: 테스트를 **통과**하는 최소한의 코드 작성
3. Blue: 최소한의 코드를 실사용이 가능하도록 **리팩토링**을 거쳐야한다.
<br>


테스트를 통한 최소한의 코드는 앞선 테스트를 통과할 수 있는 정도의 코드로, 개선될 수  있는 많은 여지를 가지고 있는 코드입니다. 그렇기때문에 실제 개발에서 쓸 수 있도록 리팩토링을 거치는 과정이 필요합니다. <br>

이렇게 TDD의 테스트는 큰 단위의 문제를 작은 단위로 나누어, 지속적인 피드백을 통해 목표를 개선해나가는 방향으로 진행됩니다. 위와 같은 사이클은 계속적으로 반복되고 끝내 다듬어진 코드가 작성되는 것입니다. <br>

빠르게 실패하고, 피드백하여 개선하는 것!       
우리는 이를 통해 ‘아름다운(?)’ 코드를 발견할 수 있게 됩니다.    
붱이가 수업시간에 언급했던 말이었는데 마음에 드네요. 아름다운 코드!

<br>

# TDD로 무엇을 얻을 수 있을까?
직관적으로 생각해보아도, 테스트를 통해 작성된 코드라면 어떤 장단점이 있을지 예상이 되는 부분이 있습니다. 먼저 더 단단하고 완전한 코드를 쓸 수 있겠지요. 하지만 딱봐도 일반적인 개발 방법에 비해서는 번거로운 작업임에는 이견이 없는 것 같습니다. <br>

**보다 정확한 말로, 개발자스럽게 정리해보고 싶어서 여러 블로그를 참고하여 작성합니다 :)**

<br>

### TDD의 장점

TDD는 높은 퀄리티의 소프트웨어를 보장합니다.

- 에러나 버그가 발생하지 않는 코드를 작성할 수 있다.
- 추가적인 요구사항이 있을 때 손쉽게 그 요구사항을 반영할 수 있다.
- 유지보수에 용이하다. <br>

이러한 장점이 보장되는 이유는 아래와 같은 TDD의 특징들 때문입니다. <br>

**1. 보다 튼튼한 객체지향적 코드 생산**    
테스트 코드를 먼저 작성한다면 보다 명확한 기능과 구조를 설계할 수 있습니다. 구조화되지 않은 복잡한 코드를 작성할 경우, 테스트 방식이 복잡해지고 테스트 코드의 용이성, 재사용성이 떨어지게 됩니다. 그러므로 자연스럽게 재사용성이 고려된,  모듈화된 코드를 작성하게 됩니다. <br>

**2. 설계 수정 시간의 단축**      
테스트 코드를 먼저 작성하게 되면 코드의 기능, 정의 등, 그리고 구조적인 문제에 대하여 명확하게 접근하게 됩니다. 또한 다양한 예외상황에 대해서도 고려하게 되므로 이는 완성도 높은 설계로 이어집니다. <br>

**3. 디버깅 시간의 단축**      
단위  테스트 기반의 테스트 코드를 작성하기 때문에 추후 프로그램에 문제가 발생할 경우, 각각의 모듈 별로 테스트를 진행해보면 문제 지점을 쉽게 찾아낼 수 있습니다. 즉 디버깅에 유리한 것이지요. <br>

**4. 유지 보수의 용이성**       
프로그램에 어떤 기능을 추가하는 등, 유지 보수를 해야하는 상황에서는 항상 기존 코드들에게 끼칠 영향들에 대해 경계해야 합니다. 따라서 단순한 기능이라도 수정되거나, 추가되는 경우에는 많은 코드에 대하여 테스트를 진행하게 될 것입니다. 하지만 TDD를 거쳐 테스트가 이미 이루어진 경우라면 이렇게 다시 테스트를 진행해야 하는 상황에 대한 부담이 줄어듭니다. <br>

**5. 테스트 문서의 대체 가능**      
대부분의 개발 프로젝트 진행 시 테스트를 진행하는 경우 단순 통합 테스트에 지나지 않습니다. 즉, 내부적으로 개별적인 모듈들이 어떻게 테스트 되었는지 제공할 수 없습니다. 하지만 TDD를 구현하게 될 경우에 테스팅을 자동화 시킴과 동시에 보다 정확한 테스트 근거를 산출할 수 있습니다.

<br>

# 테스트?
그렇다면 TDD의 테스트는 어떻게 진행될까요? 이어서 테스트의 종류에 대해서 간단하게 살펴봅시다. <br>

#### 수준별 테스트 분류
- 단위테스트       
가장 작은 단위의 테스트로 메서드의 단위로 테스트합니다. 함수를 실행해보고 그 결과가 어떻게 나오는지에 대한 테스트입니다. 즉각적인 피드백이 나오는 것이 장점입니다. 하지만 하나의 메서드가 잘 작동함은 보장할 수 있지만 그들이 결합되는 시점에서도 잘 작동하는지에 대해서는 보장할 수 없기 때문에 염두해야 합니다. <br>

- 통합테스트     
단위 테스트보다 높은 수준의 테스트입니다. 실제 프로그램에서는 단위 모듈이 개별적으로 존재하는 것이 아니라 여러 모듈이 유기적 관계를 맺고 있기 때문에 이러한 모듈들을 결합한 형태로서 테스트를 진행해보아야 합니다. <br>

- 인수 테스트, 전 구간 테스트      
해당 시스템과 해당 시스템을 구축하고 배포하는 프로세스를 모두 테스트하는 것을 말합니다. 그러니까 기획으로부터 요구된 사항에 시스템이 잘 부합하는지, 전체  시스템이 원하는 방식으로 동작하는 지를 테스트하는 것입니다. 앞서 진행한 내부 기능들(메서드 단위)까지 테스트할 필요는 없으며 오로지 사용자 인터페이스를 통해서 테스트합니다.

<br>
<br>

#### 단위테스트?
처음에는 TDD 테스트가 단위테스트인가? 생각하여 이어서 포스팅하려다가 상이한 범주를 담는 것 같아 분리하게 되었습니다. 다음 포스팅에서는 단위 테스트에 대해서 알아보고, 직접 코드로 테스트를 진행해보도록 하겠습니다 :)

<br>

참고
- [https://m.blog.naver.com/suresofttech/221569611618](https://m.blog.naver.com/suresofttech/221569611618)
- [http://cloudrain21.com/test-driven-development](http://cloudrain21.com/test-driven-development)
- [https://velog.io/@minni/TDD와-Swift-XCTest-활용하기](https://velog.io/@minni/TDD와-Swift-XCTest-활용하기)
- [https://blog.sangyoung.me/2019/01/27/vue-tdd-00/](https://blog.sangyoung.me/2019/01/27/vue-tdd-00/)
