---
layout: post
title: 201119-TIL
category: TIL
permalink: /til/:year/:month/:day/:title/
tags: [TIL]
comments: true
---
# 학습 내용
 KVO와 Notification에 대해 학습했다.

#### KVO, Notification
- KVO와 Notification은 인스턴스 간의 통신을 하기위한 수단이다. 통신을 한다는 것은 데이터, 정보를 주고 받는 것이다.
- 인스턴스들이 서로 통신하기 가장 쉬운 방법은 직접적으로 메세지를 주고받는 방식이 있는데 이러한 경우, 인스턴스 간의 의존관계가 요구된다. 인스턴스끼리 의존관계가 만들어지거나, 인스턴스끼리 서로 알도록 하려면 코드가 너무 복잡해진다. 인스턴스끼리 직접적인 의존 관계없이 메세지를 보낼 수 있는 방법이 없을까? -> KVO, Notification, 옵저빙을 하고 있으면 된다.
- 각 타입들끼리 의존하지 않는, 서로 연결되지 않은 채 역할을 분담하는 것이 유지 보수, 수정에 용이하다.

#### Notification
- 노티피케이션은 방송국에서 시청 대상을 특정하지않고 방송을 터뜨리는 것과 유사하다. 이때 방송국은 Notification center가 되고, 방송을 송출하는 것을 Post라고 한다.
- 방송은 불특정 다수에게 던지는 것이고 그 방송을 지켜보고 있다면, 방송국은 보낼 메세지가 생길 때 방송을 송출하기만 하면 된다.
- 특정 채널을 지켜보고 있는 사람들에게 한해서 한 번에 여러명에겍 정보를 뿌릴 수 있다.

#### KVO
- Key-Value-Observing
- KVO와 Notification은 어떻게 다를까? 주체가 달라진다. 노티피케이션은 센터에서 포스트를 해주어야 메세지를 얻을 수 있다. 약간 수동적인 느낌이다. 하지만 KVO는 몰래 지켜보는, 옵저빙을 하는 형태인데 좀 더 능동적인 것 같다.

#### 클래스의 초기화
- 클래스의 인스턴스가 생성되는 시점에 클래스의 모든 프로퍼티들은 초기화가 이루어진 상태여야 한다. 구조체와 달리 memberwise 기능이 없기때문에 클래스 내부에서 프로퍼티에 직접 값을 할당해주거나, init메서드를 사용하여 인스턴스 생성시점에 모든 프로퍼티를 초기화할 수 있게 해야한다.


<br>

# 고민한 점 / 해결 방법
#### 클래스 내부에서 프로퍼티에 값을 미리 할당해주어야 하는 경우는?
- 클래스 내부에서 프로퍼티에 값을 미리 할당해두는 것은 훗날 큰 리스크가 될 수 있다. 기획서가 변경되거나, 코드 수정이 필요한 경우 타입 자체의 코드를 수정해주어야 하기 때문에 모든 인스턴스에 영향을 끼치게 된다.

#### 좋은 코드란 무엇인가?
- 모각코에서 그린, 소대, 라자냐, 붱이, 민디가 하는 이야기를 들었다. 좋은 코드란 무엇일까?
- 붱이의 말이 와닿았다. 좋은 코드란 코드의 유지보수에 용이한 코드이다. 수정해야할 일이 생겼을때 주요 코드블록의 내용을 직접적으로 수정해야하는 코드보다 코드블록 외부에서 메서드, 클래스 등을 추가(혹은 수정)하기만 하면 되게끔 구조를 짜는 것이 더 용이하다.
- 그리고 내 코드를 돌아보니 레시피나 재고 등에 대해 변경사항이 생길 경우, 코드 곳곳에서 수정해주어야할 부분이 많아보였다. 좀 더 효율적인 방법은 없을까?

<br>


# 느낀점
 KVO와 Notification을 실사용도 해보고 더 이해해보고 싶었는데 머리에 잘 안들어왔다. 내일로 미루고, 휴식을 취하자..!


