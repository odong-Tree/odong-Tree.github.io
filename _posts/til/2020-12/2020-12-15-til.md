---
layout: post
title: 201215-TIL
category: TIL
permalink: /til/:year/:month/:day/:title/

tags: [TIL]
comments: true
---
# 학습 내용
- 코드 리뷰 수정

<br>

# 고민한 점/ 해결 방법
#### [조건문과 가독성, 성능?]
- 유난히 조건을 따져야하는 경우가 많았던 프로젝트였다. 조건문이 많이 요구되었는데, 가독성에 대한 고민이 많았다. 여러개의 조건문이 중첩되게 되면 코드의 depth가 쉽게 깊어졌다. 어떻게 이 depth를 해결해줄 수 있을까?
- guard문과 메서드의 생성으로 해결할 수 있었다. 어제 if와 guard에 대한 공부로 guard는 '예외'의 경우만을 처리하는 걸로 인식했는데, 메서드에서 빠른 탈출만을 위한 코드로도 유용했다.   

>코드리뷰 내용을 덧붙입니다.
>
>빠른 탈출을 위한 이유로 guard를 사용했다고 했는데, 예외처리로서의 gaurd의 의미를 해치지 않는 방법으로는 그냥 if 구문을 통해 return으로 종료를 시켜도 무방할 것 같습니다.      

- 또한 내부의 조건문에 대해서는 따로 메서드로 분류하여, 중첩되는 조건문을 보다 간단하게 표현할 수 있었다.
- 하지만 한 가지 고민이 들었다. 사실 if문의 중첩을 피하고 싶었던 이유는 성능상의 문제였는데 조건문이 여러개 중첩되는 코드를 잦은 빈도로 사용해야한다면 컴퓨터가 부담을 느끼지는 않을까 하는 문제였다. 메서드로 가독성을 좋게한다고 한들, 결국 처리해야하는 depth는 같지 않은가?
- 아직 컴퓨터의 성능에 대해서 기준을 세우는 방법을 모르겠다. 캠퍼 라자냐와 이야기해본 결과, 3개 정도 중첩되는 조건문이 크게 문제가 되지는 않을 것이라는 판단을 내리기는 했다.

#### [이전의 스택 기억하기?]
- 계산기 프로젝트는 사용자와 상호작용을 하는 경우 발생할 수 있는 경우의 수가 많았다. 나는 피연산자 스택을 이용해서 다음 연산자가 입력될 때, 이전 연산자를 계산해주는 방식으로 코드를 구현했는데 숫자-연산자-숫자-연산자 순이 아닌, 숫자-연산자-연산자의 순서로 입력될 때 이전 연산자가 취소되어야 하는 경우가 발생했다.
- 단순히 연산자를 갈아치우는 문제가 아니라, 2+3+로 5를 출력한 상태에서 *를 누르면 피연산자 스택에는 다시 2,3이 담기는, 이전 스택으로 돌아가야하는 기능이 필요하겠다고 판단했다. 그래서 연산자를 기억할 수 있는 프로퍼티를 만들기로 했다.
- 현재의 스택 배열과 이전 버전의 스택 배열을 모두 저장해두려니 메모리를 두 배로 사용하게 되어서 최선인가 싶은 생각이 들기도 했다. 하지만 배열마다 3개 이상의 배열이 저장되는 경우가 없어 무리가 되지 않을 것이라고 판단했다.

#### [연산자의 우선순위]
- 연산자의 우선순위에 대한 공식 문서가 있는지 몰랐는데, 소대가 알려주었다.
- 십진법 연산자는 익숙했기에 우선순위에 대한 고민이 필요없었지만, 이진법 연산자는 좀 더 많은 등급으로서 우선순위가 분류되었다.
- 이진법 연산자가 더 다양한 우선순위를 가진다는 말이 신기하면서도 청천벽력같은 소리였다. 이미 다 구현을 해뒀는데.. 이걸 다시 수정해야하는가..? ㅠ
- 비트 연산자의 우선 순위에 대해서는 일일이 코드로 테스트해서 얻은 결과였는데, 정말 다행히도 나의 테스트와 공식 문서의 우선순위가 맞아 떨어졌다!
- 하지만 우선 순위에 대해서 공식 문서를 찾아볼 생각을 못했다. 소대에게 듣기로는, 우선 순위는 프로그래밍 언어마다도 상이한 부분이 있어 공식 문서로서 확인할 필요가 있어보였다.
- [https://developer.apple.com/documentation/swift/swift_standard_library/operator_declarations](https://developer.apple.com/documentation/swift/swift_standard_library/operator_declarations)


<br>

# 느낀점
- TDD까지 훌륭하게 복습하고 싶었는데 코드 수정을 하는데에 시간이 매우 오래 걸렸다. 하루를 더 미루게 되었지만 그래도 치열하게 고민했던 오늘이 뿌듯하다.
- step1에서 다른 스탭으로  미루어두었던 기능까지 모두 구현해서 push했다. 그래서 더 오래 걸렸을지도 모르겠다. 오늘 굉장히 고통스러웠는데 그만큼 코드가 단단해지고 있다는 생각을 했다. 코드 리뷰는 해도해도 끝이 없다! 항상 좋은 코드에 대해서 고민하는 습관이 생기고 있는 것 같다.
- 캠퍼들과 함께 공부해서 좋았다. 함께 고민해주고 응원해주는 캠퍼들이 고맙다. 더 열심히 해서 나도 좋은 영향을 주고 싶다.
- 내일은 TDD!
